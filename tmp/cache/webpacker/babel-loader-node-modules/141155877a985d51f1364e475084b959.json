{"ast":null,"code":"// class = \"ratings\"の子要素を取得\nvar stars = document.querySelector(\".ratings\").children; // const stars = document.getElementsByClassName(\"ratings\").children;\n// id = \"rating-value\"の要素を取得\n\nvar ratingValue = document.getElementById(\"rating-value\"); // id = \"rating-value-display\"の要素を取得\n\nvar ratingValueDisplay = document.getElementById(\"rating-value-display\"); // indexという変数を定義\n\nvar index; // reveiwの投稿ページに遷移するとstars.lengthの値（5）だけ繰り返し\n\nvar _loop = function _loop(i) {\n  console.log(stars.length); // 星にカーソルが乗ったときに実行する関数を定義\n\n  stars[i].addEventListener(\"mouseover\", function () {\n    // stars.lengthの値（5）だけ繰り返し\n    // つまり、星カーソルが乗った時、5回繰り返される\n    for (var j = 0; j < stars.length; j++) {\n      console.log(stars.length); // まず全て星をくり抜く\n\n      stars[j].classList.remove(\"fa-star\");\n      stars[j].classList.add(\"fa-star-o\");\n    } // そのあと星の数だけ以下の関数が繰り返される。\n\n\n    for (var _j = 0; _j <= i; _j++) {\n      console.log(stars.length);\n\n      stars[_j].classList.remove(\"fa-star-o\"); // カーソルが乗った星まで星を塗りつぶす\n\n\n      stars[_j].classList.add(\"fa-star\");\n    }\n  }); // クリックされた星の番号+1をratingValueに代入\n\n  stars[i].addEventListener(\"click\", function () {\n    ratingValue.value = i + 1;\n    ratingValueDisplay.textContent = ratingValue.value; // indexにクリックされた星の番号を代入\n\n    index = i;\n  }); // 星からカーソルが離れたときに実行される関数\n\n  stars[i].addEventListener(\"mouseout\", function () {\n    // まず5回繰り返す\n    for (var j = 0; j < stars.length; j++) {\n      // まず全ての星をくり抜く\n      stars[j].classList.remove(\"fa-star\");\n      stars[j].classList.add(\"fa-star-o\");\n    }\n\n    for (var _j2 = 0; _j2 <= index; _j2++) {\n      // クリックされている星まで塗りつぶす\n      stars[_j2].classList.remove(\"fa-star-o\");\n\n      stars[_j2].classList.add(\"fa-star\");\n    }\n  });\n};\n\nfor (var i = 0; i < stars.length; i++) {\n  _loop(i);\n}","map":{"version":3,"sources":["/pf3/app/javascript/packs/reviews.js"],"names":["stars","document","querySelector","children","ratingValue","getElementById","ratingValueDisplay","index","i","console","log","length","addEventListener","j","classList","remove","add","value","textContent"],"mappings":"AAAA;AACA,IAAMA,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,QAAjD,C,CACA;AACA;;AACA,IAAMC,WAAW,GAAGH,QAAQ,CAACI,cAAT,CAAwB,cAAxB,CAApB,C,CACA;;AACA,IAAMC,kBAAkB,GAAGL,QAAQ,CAACI,cAAT,CAAwB,sBAAxB,CAA3B,C,CACA;;AACA,IAAIE,KAAJ,C,CAEA;;2BACQC,C;AACPC,EAAAA,OAAO,CAACC,GAAR,CAAYV,KAAK,CAACW,MAAlB,E,CACA;;AACAX,EAAAA,KAAK,CAACQ,CAAD,CAAL,CAASI,gBAAT,CAA0B,WAA1B,EAAsC,YAAU;AAC/C;AACA;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACb,KAAK,CAACW,MAArB,EAA6BE,CAAC,EAA9B,EAAiC;AAChCJ,MAAAA,OAAO,CAACC,GAAR,CAAYV,KAAK,CAACW,MAAlB,EADgC,CAEhC;;AACAX,MAAAA,KAAK,CAACa,CAAD,CAAL,CAASC,SAAT,CAAmBC,MAAnB,CAA0B,SAA1B;AACAf,MAAAA,KAAK,CAACa,CAAD,CAAL,CAASC,SAAT,CAAmBE,GAAnB,CAAuB,WAAvB;AACA,KAR8C,CAS/C;;;AACA,SAAI,IAAIH,EAAC,GAAC,CAAV,EAAaA,EAAC,IAAEL,CAAhB,EAAmBK,EAAC,EAApB,EAAuB;AACtBJ,MAAAA,OAAO,CAACC,GAAR,CAAYV,KAAK,CAACW,MAAlB;;AACAX,MAAAA,KAAK,CAACa,EAAD,CAAL,CAASC,SAAT,CAAmBC,MAAnB,CAA0B,WAA1B,EAFsB,CAGtB;;;AACAf,MAAAA,KAAK,CAACa,EAAD,CAAL,CAASC,SAAT,CAAmBE,GAAnB,CAAuB,SAAvB;AACA;AACD,GAhBD,E,CAiBA;;AACAhB,EAAAA,KAAK,CAACQ,CAAD,CAAL,CAASI,gBAAT,CAA0B,OAA1B,EAAkC,YAAU;AAC3CR,IAAAA,WAAW,CAACa,KAAZ,GAAoBT,CAAC,GAAC,CAAtB;AACAF,IAAAA,kBAAkB,CAACY,WAAnB,GAAiCd,WAAW,CAACa,KAA7C,CAF2C,CAG3C;;AACAV,IAAAA,KAAK,GAAGC,CAAR;AACA,GALD,E,CAMA;;AACAR,EAAAA,KAAK,CAACQ,CAAD,CAAL,CAASI,gBAAT,CAA0B,UAA1B,EAAqC,YAAU;AAC9C;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACb,KAAK,CAACW,MAArB,EAA6BE,CAAC,EAA9B,EAAiC;AAChC;AACAb,MAAAA,KAAK,CAACa,CAAD,CAAL,CAASC,SAAT,CAAmBC,MAAnB,CAA0B,SAA1B;AACAf,MAAAA,KAAK,CAACa,CAAD,CAAL,CAASC,SAAT,CAAmBE,GAAnB,CAAuB,WAAvB;AACA;;AACD,SAAI,IAAIH,GAAC,GAAC,CAAV,EAAaA,GAAC,IAAEN,KAAhB,EAAuBM,GAAC,EAAxB,EAA2B;AAC1B;AACAb,MAAAA,KAAK,CAACa,GAAD,CAAL,CAASC,SAAT,CAAmBC,MAAnB,CAA0B,WAA1B;;AACAf,MAAAA,KAAK,CAACa,GAAD,CAAL,CAASC,SAAT,CAAmBE,GAAnB,CAAuB,SAAvB;AACA;AACD,GAZD;;;AA5BD,KAAI,IAAIR,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACR,KAAK,CAACW,MAArB,EAA6BH,CAAC,EAA9B,EAAiC;AAAA,QAAzBA,CAAyB;AAyChC","sourcesContent":["// class = \"ratings\"の子要素を取得\nconst stars = document.querySelector(\".ratings\").children;\n// const stars = document.getElementsByClassName(\"ratings\").children;\n// id = \"rating-value\"の要素を取得\nconst ratingValue = document.getElementById(\"rating-value\");\n// id = \"rating-value-display\"の要素を取得\nconst ratingValueDisplay = document.getElementById(\"rating-value-display\");\n// indexという変数を定義\nlet index;\n\n// reveiwの投稿ページに遷移するとstars.lengthの値（5）だけ繰り返し\nfor(let i=0; i<stars.length; i++){\n\tconsole.log(stars.length)\n\t// 星にカーソルが乗ったときに実行する関数を定義\n\tstars[i].addEventListener(\"mouseover\",function(){\n\t\t// stars.lengthの値（5）だけ繰り返し\n\t\t// つまり、星カーソルが乗った時、5回繰り返される\n\t\tfor(let j=0; j<stars.length; j++){\n\t\t\tconsole.log(stars.length)\n\t\t\t// まず全て星をくり抜く\n\t\t\tstars[j].classList.remove(\"fa-star\");\n\t\t\tstars[j].classList.add(\"fa-star-o\");\n\t\t}\n\t\t// そのあと星の数だけ以下の関数が繰り返される。\n\t\tfor(let j=0; j<=i; j++){\n\t\t\tconsole.log(stars.length)\n\t\t\tstars[j].classList.remove(\"fa-star-o\");\n\t\t\t// カーソルが乗った星まで星を塗りつぶす\n\t\t\tstars[j].classList.add(\"fa-star\");\n\t\t}\n\t})\n\t// クリックされた星の番号+1をratingValueに代入\n\tstars[i].addEventListener(\"click\",function(){\n\t\tratingValue.value = i+1;\n\t\tratingValueDisplay.textContent = ratingValue.value;\n\t\t// indexにクリックされた星の番号を代入\n\t\tindex = i;\n\t})\n\t// 星からカーソルが離れたときに実行される関数\n\tstars[i].addEventListener(\"mouseout\",function(){\n\t\t// まず5回繰り返す\n\t\tfor(let j=0; j<stars.length; j++){\n\t\t\t// まず全ての星をくり抜く\n\t\t\tstars[j].classList.remove(\"fa-star\");\n\t\t\tstars[j].classList.add(\"fa-star-o\");\n\t\t}\n\t\tfor(let j=0; j<=index; j++){\n\t\t\t// クリックされている星まで塗りつぶす\n\t\t\tstars[j].classList.remove(\"fa-star-o\");\n\t\t\tstars[j].classList.add(\"fa-star\");\n\t\t}\n\t})\n}"]},"metadata":{},"sourceType":"module"}